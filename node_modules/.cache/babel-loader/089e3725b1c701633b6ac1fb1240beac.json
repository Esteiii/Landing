{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ravan\\\\Documents\\\\GitHub\\\\simplera_template_landing\\\\src\\\\components\\\\CartShopping.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useCart } from \"../hook/useCart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartShopping = props => {\n  _s();\n\n  var _localStorage;\n\n  let cartLocalStorage = \"\";\n  let cartReaded = (_localStorage = localStorage) === null || _localStorage === void 0 ? void 0 : _localStorage.getItem('cart');\n\n  if (cartReaded !== undefined && cartReaded !== \"undefined\") {\n    cartLocalStorage = JSON.parse(cartReaded);\n  }\n\n  const {\n    cart,\n    setCart\n  } = useCart();\n\n  const currency = function (number) {\n    return new Intl.NumberFormat('de-DE').format(number);\n  }; //meta title\n\n\n  useEffect(() => {\n    var _cartLocalStorage;\n\n    if ((cart === null || cart === void 0 ? void 0 : cart.length) === 0 && ((_cartLocalStorage = cartLocalStorage) === null || _cartLocalStorage === void 0 ? void 0 : _cartLocalStorage.length) > 0) {\n      setCart(cartLocalStorage);\n    }\n  }, [useCart]);\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cart !== null && cart !== void 0 ? cart : \"\"));\n  });\n\n  function removeCartItem(id) {\n    var filtered = cart === null || cart === void 0 ? void 0 : cart.filter(function (item) {\n      return item.productId !== id;\n    });\n    setCart(filtered);\n  }\n\n  function countUP(id, prev_data_attr) {\n    setCart(cart === null || cart === void 0 ? void 0 : cart.map(p => p.productId === id ? { ...p,\n      productQuantity: prev_data_attr + 1\n    } : p));\n  }\n\n  function countDown(id, prev_data_attr) {\n    setCart(cart === null || cart === void 0 ? void 0 : cart.map(p => p.productId === id ? { ...p,\n      productQuantity: prev_data_attr - 1\n    } : p));\n  }\n\n  const handleCartSubmit = cart => {\n    localStorage.setItem('cart', JSON.stringify(cart !== null && cart !== void 0 ? cart : \"\"));\n  }; //   const grandTotal = (productList.map (product =>(\n  //     product.productPrice*product.cartQuantity\n  //   )));\n  //   const precioTotal = grandTotal.reduce((a,b)=>a+b,0);\n  //   const discount = (productList.map (product =>(\n  //     product.productPrice*product.cartQuantity-product.productPriceDiscount*product.cartQuantity\n  //   )))\n  //   const discountTotal = discount.reduce((a,b)=>a+b,0);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: props.data ? props.data.href.substring(1, props.data.href.len) : '',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"section-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: props.data ? props.data.data.title : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"page-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"container\",\n            fluid: true,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                class: \"table align-middle mb-0 table-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  class: \"table-light\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        width: '50%',\n                        minWidth: '300px'\n                      },\n                      children: [\" \", props.data.data.headerTableProduct, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        width: '10%',\n                        minWidth: '100px',\n                        textAlign: 'right'\n                      },\n                      children: props.data.data.headerTableProductPrice\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        width: '20%',\n                        minWidth: '150px',\n                        textAlign: 'right'\n                      },\n                      children: props.data.data.headerTableProductQuantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        width: '20%',\n                        minWidth: '200px',\n                        textAlign: 'right'\n                      },\n                      children: props.data.data.totalPay\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: cart === null || cart === void 0 ? void 0 : cart.map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          whiteSpace: 'nowrap',\n                          overflowX: 'auto'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'inline-block'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: product.productImg,\n                            alt: product.productName,\n                            title: product.productName,\n                            class: \"avatar-md\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 98,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 97,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'inline-block'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                            class: \"font-size-12 text-truncate\",\n                            children: \"\\xA0\\xA0\\xA0\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 106,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 105,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'inline-block'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                            class: \"text-truncate\",\n                            children: product.productName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 111,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 110,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        textAlign: 'right'\n                      },\n                      children: [\"$ \", currency(product.productPrice)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        textAlign: 'right'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          whiteSpace: 'nowrap',\n                          overflowX: 'auto'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"portfolio-cart-button\",\n                          style: {\n                            display: 'inline-block'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            class: \"btn\",\n                            onClick: () => {\n                              countDown(product.productId, product.productQuantity); // handleDeleteProductUpdate(product);\n                            },\n                            children: \" -\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 121,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 120,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'inline-block',\n                            minWidth: '50px',\n                            textAlign: 'center'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                            class: \"text-truncate\",\n                            style: {\n                              padding: '0px 0',\n                              overflow: \"unset\"\n                            },\n                            children: product.productQuantity >= 1 ? product.productQuantity : removeCartItem(product.productId)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 131,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 130,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          class: \"portfolio-cart-button\",\n                          style: {\n                            display: 'inline-block'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            class: \"btn\",\n                            onClick: () => {\n                              countUP(product.productId, product.productQuantity); // handleAddProductUpdate(product);\n                            },\n                            children: \" +\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 138,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 137,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        textAlign: 'right'\n                      },\n                      children: [\"$\", \" \", product.productQuantity >= 0 ? currency(product.productQuantity * product.productPrice) : 0]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        textAlign: 'right'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        class: \"buttonTrash\",\n                        onClick: () => {\n                          removeCartItem(product.productId);\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"bx bx-trash buttonIconTrash\",\n                          id: \"img-carrito\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 160,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 29\n                    }, this)]\n                  }, product.productId, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                alignContent: 'revert'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"text-sm-end mt-2 mt-sm-0\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/checkout\",\n                  class: \"cart-btn\",\n                  onClick: () => handleCartSubmit(cart),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"mdi mdi-cart-arrow-right me-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 25\n                  }, this), \" \", props.data.data.buttonReview, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartShopping, \"bMuFCaeIP8rQvF4Z6dN23WQ38lA=\", false, function () {\n  return [useCart];\n});\n\n_c = CartShopping;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartShopping\");","map":{"version":3,"sources":["C:/Users/ravan/Documents/GitHub/simplera_template_landing/src/components/CartShopping.jsx"],"names":["React","useEffect","useCart","CartShopping","props","cartLocalStorage","cartReaded","localStorage","getItem","undefined","JSON","parse","cart","setCart","currency","number","Intl","NumberFormat","format","length","setItem","stringify","removeCartItem","id","filtered","filter","item","productId","countUP","prev_data_attr","map","p","productQuantity","countDown","handleCartSubmit","data","href","substring","len","title","width","minWidth","headerTableProduct","textAlign","headerTableProductPrice","headerTableProductQuantity","totalPay","product","whiteSpace","overflowX","display","productImg","productName","productPrice","padding","overflow","alignContent","buttonReview"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport {useCart} from \"../hook/useCart\";\r\n\r\n\r\n\r\nexport const CartShopping = (props) => {\r\n  \r\n  let cartLocalStorage = \"\";\r\n  let cartReaded = localStorage?.getItem('cart');\r\n  if (cartReaded !== undefined && cartReaded !== \"undefined\") {\r\n    cartLocalStorage = JSON.parse(cartReaded)\r\n  }\r\n\r\n  const { cart, setCart } = useCart();\r\n  const currency = function(number){\r\n    return new Intl.NumberFormat('de-DE').format(number);\r\n  };\r\n  //meta title\r\n  useEffect(() => {\r\n    if(cart?.length===0 && cartLocalStorage?.length>0){\r\n      setCart(cartLocalStorage);\r\n    }\r\n  }, [useCart])\r\n  \r\n  useEffect(() => {\r\n    localStorage.setItem('cart',JSON.stringify(cart ?? \"\"))\r\n  });\r\n  \r\n\r\n  function removeCartItem(id) {\r\n    var filtered = cart?.filter(function (item) {\r\n      return item.productId !== id;\r\n    });\r\n\r\n    setCart(filtered);\r\n    \r\n   \r\n  }\r\n\r\n  function countUP(id, prev_data_attr) {\r\n    setCart(\r\n      cart?.map((p) =>\r\n        p.productId === id ? { ...p, productQuantity: prev_data_attr + 1  } : p\r\n      )\r\n    );\r\n  }\r\n\r\n  function countDown(id, prev_data_attr) {\r\n    setCart(\r\n      cart?.map((p) =>\r\n        p.productId === id ? { ...p, productQuantity: prev_data_attr - 1 } : p\r\n      )\r\n    );\r\n  }\r\n  const handleCartSubmit = (cart) =>{\r\n    localStorage.setItem('cart',JSON.stringify(cart ?? \"\"))\r\n  }\r\n\r\n  //   const grandTotal = (productList.map (product =>(\r\n\r\n  //     product.productPrice*product.cartQuantity\r\n\r\n  //   )));\r\n\r\n  //   const precioTotal = grandTotal.reduce((a,b)=>a+b,0);\r\n  //   const discount = (productList.map (product =>(\r\n  //     product.productPrice*product.cartQuantity-product.productPriceDiscount*product.cartQuantity\r\n  //   )))\r\n  //   const discountTotal = discount.reduce((a,b)=>a+b,0);\r\n\r\n  return (\r\n    <div>\r\n      <section id={props.data ? props.data.href.substring(1, props.data.href.len) : ''}>\r\n          <div class=\"section-title\">\r\n            <h2>{props.data ? props.data.data.title : \"\"}</h2>\r\n          </div>\r\n          <React.Fragment>\r\n            <div class=\"page-content\">\r\n              <div class=\"container\" fluid>\r\n                \r\n                  <div class=\"table-responsive\">\r\n                    <table class=\"table align-middle mb-0 table-nowrap\">\r\n                      <thead class=\"table-light\">\r\n                        <tr>\r\n                          <th style={{width: '50%', minWidth: '300px'}}> {props.data.data.headerTableProduct} </th>\r\n                          <th style={{width: '10%', minWidth: '100px', textAlign: 'right'}}>{props.data.data.headerTableProductPrice}</th>\r\n                          <th style={{width: '20%', minWidth: '150px', textAlign: 'right'}}>{props.data.data.headerTableProductQuantity}</th>\r\n                          <th style={{width: '20%', minWidth: '200px', textAlign: 'right'}}>{props.data.data.totalPay}</th>\r\n                          <th></th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {cart?.map((product) => (\r\n                          <tr key={product.productId}>\r\n                            <td>\r\n                              <div style={{whiteSpace: 'nowrap', overflowX: 'auto'}}>\r\n                                <div style={{display: 'inline-block'}}>\r\n                                  <img\r\n                                      src={product.productImg}\r\n                                      alt={product.productName}\r\n                                      title={product.productName}\r\n                                      class=\"avatar-md\"\r\n                                  />\r\n                                </div>\r\n                                <div style={{display: 'inline-block'}}>\r\n                                  <h6 class=\"font-size-12 text-truncate\">\r\n                                  &nbsp;&nbsp;&nbsp;\r\n                                  </h6>\r\n                                </div>\r\n                                <div style={{display: 'inline-block'}}>\r\n                                  <h6 class=\"text-truncate\">\r\n                                    {product.productName}\r\n                                  </h6>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                            <td style={{textAlign: 'right'}}>$ {currency(product.productPrice)}</td>\r\n                            <td style={{textAlign: 'right'}}>\r\n                              <div style={{whiteSpace: 'nowrap', overflowX: 'auto'}}>\r\n                                <div class=\"portfolio-cart-button\" style={{display: 'inline-block'}}>\r\n                                  <button type=\"button\" class=\"btn\" onClick={() => {\r\n                                      countDown(\r\n                                        product.productId,\r\n                                        product.productQuantity\r\n                                      );\r\n                                      // handleDeleteProductUpdate(product);\r\n                                    }}> - \r\n                                  </button>\r\n                                </div>\r\n                                <div style={{display: 'inline-block', minWidth: '50px', textAlign: 'center'}}>\r\n                                  <h6 class=\"text-truncate\" style={{padding: '0px 0', overflow: \"unset\"}}>\r\n                                    {product.productQuantity >= 1\r\n                                        ? product.productQuantity\r\n                                        : removeCartItem(product.productId)}\r\n                                  </h6>\r\n                                </div>\r\n                                <div class=\"portfolio-cart-button\" style={{display: 'inline-block'}}>\r\n                                  <button type=\"button\" class=\"btn\" onClick={() => {\r\n                                      countUP(\r\n                                        product.productId,\r\n                                        product.productQuantity\r\n                                      );\r\n                                      // handleAddProductUpdate(product);\r\n                                    }}> +\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n\r\n                            </td>\r\n                            <td style={{textAlign: 'right'}}>\r\n                              ${\" \"}\r\n                              {product.productQuantity >= 0\r\n                                ? currency(product.productQuantity * product.productPrice): 0\r\n                              }\r\n                            </td>\r\n                            <td style={{textAlign: 'right'}}>\r\n                              <button class ='buttonTrash' onClick={() => {\r\n                                  removeCartItem(product.productId);\r\n                                }}>\r\n                                <i class=\"bx bx-trash buttonIconTrash\" id=\"img-carrito\"></i>\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                  \r\n                  <div style={{alignContent: 'revert'}}>\r\n                    <div class=\"text-sm-end mt-2 mt-sm-0\">\r\n                      <a href=\"/checkout\" class=\"cart-btn\" onClick={ ()=> handleCartSubmit(cart) }>\r\n                        <i class=\"mdi mdi-cart-arrow-right me-1\"/>{\" \"}\r\n                        {props.data.data.buttonReview}{\" \"}\r\n                      </a>\r\n                    </div>\r\n                      \r\n                  </div>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        </section>\r\n      \r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}